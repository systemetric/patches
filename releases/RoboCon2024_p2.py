#@robocon-patchfile
"""
RoboCon2024: Patch 2

This patch applies to all users.

This patch contains the following bugfixes and improvements
   - Built-in camera resolution can be changed.
   - USB cameras' resolution and focal lengths can be changed.
   - Vision section of docs updated to match with instructions.

To apply the patch, make sure that this file is downloaded on the 
device you will be connecting to your robot.

Step 1: Navigate to the BrainBox's homepage. Once here,
select the "Editor" option from the bottom of the page. When the 
editor has loaded, select the Upload button in the project panel (next
to the New Project button). 

Step 2: A window should appear giving you the option to select a file to
upload. In this window, select the version of the patch file that you have 
downloaded on the device and open it. It should now be opened in the Editor.

Step 3:
Make sure that the patch file is selected, and then click the Run button
as if the patch were a normal project. Your robot may take a while to upload
the file before you see anything in the debug log or any other places. 
PLEASE BE PATIENT

Please note:
   - The BrainBox may take a long time to do certain actions (> 1 minute). Be patient.
   - When the patch starts, the blue User LED should be on. At some points during the
   patch, this and other LEDs may turn off or flash. This should return to normal 
   after a couple seconds.
   - At the end of the patch, the BrainBox will restart - the WiFi will shut off and 
   the battery LEDs will play their start up animation. This is expected.
   - When your device disconnects from the BrainBox, we advise you close any open Editor
   tabs until you reconnect to the robot after its restart. 
   - If the patch file is still present when you reconnect after the patch is complete, 
   you can safely delete it. This is not necessary, but keeping it may slow down some
   loading times.

You should then have an up to date BrainBox! Go check out the changes!
"""
z64 = """
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
b24uaHRtbFBLBQYAAAAAAgACANkAAABkMgAAAAA=
"""

import base64
import robot
import time

import os
import os.path

patch="RoboCon2024_p2"

if os.path.isfile(f"/{patch}"):
    # The patch has been applied already, it should be difficult to get here, but it can be reached by using the start button
    # after the mandatory reboot
    print (f"Patch {patch} already applied")
    print("")
    print ("Don't Walk, Do the Robot")
    print("")
    R=robot.Robot()
else:
    R = robot.Robot()

    zo = open('/tmp/patch.zip','wb')
    zo.write(base64.b64decode(z64.replace("\n","").encode('ascii')))
    zo.close()
    # Firmware updater
    print(f"Applying {patch}")
    os.system('/usr/bin/unzip -q /tmp/patch.zip -d /tmp')
    print("")
    R.set_user_led(True)
    print("Stopping helper services")
    print("")
    os.system("systemctl stop shepherd-resize_helper.service")
    os.system("systemctl stop shepherd_tmpfs_hack.service")
    print("Updating RoboCon files")
    print("")
    os.system(f'cp -a /tmp/{patch}/home/pi/* /home/pi')
    os.system(f'cp -a /tmp/{patch}/etc/* /etc')
    os.system("chown pi:pi /home/pi")
    print("")
    print("Finishing Off")
    file = open(f'/{patch}','w+')
    file.write("Patch Applied by Python")
    file.close()
    print("Restarting helper services")
    print("")
    os.system("systemctl start shepherd_tmpfs_hack.service")
    os.system("systemctl start shepherd-resize_helper.service")
    R.set_user_led(False)
    print("Rebooting")
    time.sleep(1)
    os.system(f'rm /home/pi/shepherd/robotsrc/{patch}.py')
    os.system('/sbin/reboot')