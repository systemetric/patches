(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{617:function(e,t,n){"use strict";n.r(t);var r=n(6),i=n(0),o=n(4),s=n(326),a=n(512),c=n(520),l=n(550),d=n(1);function u(e){c.MonacoServices.install(e);var t=function(e){var t={maxReconnectionDelay:1e4,minReconnectionDelay:1e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:1e4,maxRetries:1/0,debug:!1};return new l.a(e,void 0,t)}(Object(d.t)("/pyls","ws"));Object(a.listen)({webSocket:t,onConnection:function(e){var t=function(e){return new c.MonacoLanguageClient({name:"Python Language Client",clientOptions:{documentSelector:["python"],errorHandler:{error:function(){return c.ErrorAction.Continue},closed:function(){return c.CloseAction.DoNotRestart}}},connectionProvider:{get:function(t,n){return Promise.resolve(Object(c.createConnection)(e,t,n))}}})}(e).start();e.onClose((function(){return t.dispose()}))}})}s.languages.register({id:"python",extensions:[".py"],aliases:["PYTHON","python"]}),s.languages.setMonarchTokensProvider("python",{keywords:["and","del","from","not","while","as","elif","global","or","with","assert","else","if","pass","yield","break","except","import","print","class","exec","in","raise","continue","finally","is","return","def","for","lambda","try",":","=","isinstance","__debug__"],operators:["+","-","*","**","/","//","%","<<",">>","&","|","^","~","<",">","<=",">=","==","!=","<>","+=","-=","*=","/=","//=","%=","&=","|=","^=",">>=","<<=","**="],brackets:[["(",")","delimiter.parenthesis"],["{","}","delimiter.curly"],["[","]","delimiter.square"]],symbols:/[=><!~&|+\-*\/\^%]+/,delimiters:/[;=.@:,`]/,escapes:/\\(?:[abfnrtv\\"'\n\r]|x[0-9A-Fa-f]{2}|[0-7]{3}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8}|N\{\w+\})/,rawpre:/(?:[rR]|ur|Ur|uR|UR|br|Br|bR|BR)/,strpre:/(?:[buBU])/,tokenizer:{root:[[/@strpre?("""|''')/,{token:"string.delim",bracket:"@open",next:"@mstring.$1"}],[/@strpre?"([^"\\]|\\.)*$/,"string.invalid"],[/@strpre?'([^'\\]|\\.)*$/,"string.invalid"],[/@strpre?(["'])/,{token:"string.delim",bracket:"@open",next:"@string.$1"}],[/@rawpre("""|''')/,{token:"string.delim",bracket:"@open",next:"@mrawstring.$1"}],[/@rawpre"([^"\\]|\\.)*$/,"string.invalid"],[/@rawpre'([^'\\]|\\.)*$/,"string.invalid"],[/@rawpre(["'])/,{token:"string.delim",bracket:"@open",next:"@rawstring.$1"}],[/__[\w$]*/,"predefined"],[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w]*/,{cases:{"~[A-Z0-9_]+":"constructor.identifier","@default":"namespace.identifier"}}],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/@symbols/,{cases:{"@keywords":"keyword","@operators":"operator","@default":""}}],[/\d*\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+[lL]?/,"number.hex"],[/0[bB][0-1]+[lL]?/,"number.binary"],[/(0[oO][0-7]+|0[0-7]+)[lL]?/,"number.octal"],[/(0|[1-9]\d*)[lL]?/,"number"],[":",{token:"keyword",bracket:"@open"}],[/@delimiters/,{cases:{"@keywords":"keyword","@default":"delimiter"}}]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],mstring:[{include:"@strcontent"},[/"""|'''/,{cases:{"$#==$S2":{token:"string.delim",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/["']/,"string"],[/./,"string.invalid"]],string:[{include:"@strcontent"},[/["']/,{cases:{"$#==$S2":{token:"string.delim",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/./,"string.invalid"]],strcontent:[[/[^\\"']+/,"string"],[/\\$/,"string.escape"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"]],mrawstring:[{include:"@rawstrcontent"},[/"""|'''/,{cases:{"$#==$S2":{token:"string.delim",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/["']/,"string"],[/./,"string.invalid"]],rawstring:[{include:"@rawstrcontent"},[/["']/,{cases:{"$#==$S2":{token:"string.delim",bracket:"@close",next:"@pop"},"@default":{token:"string"}}}],[/./,"string.invalid"]],rawstrcontent:[[/[^\\"']+/,"string"],[/\\["']/,"string"],[/\\u[0-9A-Fa-f]{4}/,"string.escape"],[/\\/,"string"]],whitespace:[[/[ \t\r\n]+/,"white"],[/#.*$/,"comment"]]}});var m=n(81);s.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!1,schemas:[{uri:"http://robot.go/blocks-schema.json",fileMatch:["*.py"],schema:m}]});var p,g=n(48);var f=i.a.extend({name:"monaco",data:function(){return{editor:void 0,saveTimeout:void 0}},computed:Object(r.a)(Object(r.a)({},Object(o.b)(["currentProject"])),{visible:function(){var e=this.currentProject;return e&&(e.filename.endsWith(".py")||e.filename.endsWith(".json"))||!this.editor}}),mounted:function(){var e,t,n,r,i=this;this.editor=(e=this.$refs.monaco,t="",n=this.$store.state.main,r=s.editor.create(e,{model:s.editor.createModel(t,"python",s.Uri.parse(n)),language:"javascript",theme:"vs-dark",automaticLayout:!0}),g.a.$on("resize",(function(){r.layout()})),window.addEventListener("resize",(function(){r.layout()})),u(r),r),this.editor.onDidChangeModelContent((function(){i.saveTimeout&&clearTimeout(i.saveTimeout),i.editor&&i.$store.commit(d.r,{content:i.editor.getModel().getValue()}),i.saveTimeout=setTimeout((function(){return i.saveTimeout=void 0,i.$store.dispatch(d.h)}),3e3)}))},watch:(p={},p["$store.state.currentProject"]=function(e){if(e){var t=e.filename.substring(e.filename.lastIndexOf("."));if((".py"===t||".json"===t)&&this.editor){this.editor.getModel().setValue(e.content);var n=".py"==t?"python":"json";s.editor.setModelLanguage(this.editor.getModel(),n)}}},p.visible=function(e){var t=this;e&&setTimeout((function(){t.editor&&t.editor.layout()}),25)},p)}),v=n(2),b=Object(v.a)(f,(function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],ref:"monaco",attrs:{id:"monaco"}})}),[],!1,null,null,null);t.default=b.exports}}]);